<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apa yak ini</title>
    
    <!-- Tailwind CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #533483 100%);
            min-height: 100vh;
            position: relative;
        }
        
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(120, 119, 198, 0.2) 0%, transparent 50%);
            pointer-events: none;
        }
        
        .login-container {
            background: rgba(15, 15, 35, 0.8);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(120, 119, 198, 0.3);
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.5),
                0 0 50px rgba(120, 119, 198, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
        }
        
        .login-container::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #7877c6, #ff77c6, #7877c6);
            border-radius: inherit;
            z-index: -1;
            opacity: 0.3;
            animation: borderGlow 3s ease-in-out infinite;
        }
        
        @keyframes borderGlow {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }
        
        .floating-hearts {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
        }
        
        .heart {
            position: absolute;
            font-size: 1.2rem;
            animation: float 8s ease-in-out infinite;
            opacity: 0.4;
            filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.3));
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0px) rotate(0deg) scale(1);
                opacity: 0.4;
            }
            50% {
                transform: translateY(-30px) rotate(180deg) scale(1.1);
                opacity: 0.8;
            }
        }
        
        /* Mysterious particles */
        .mystery-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
        }
        
        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            animation: sparkle 4s ease-in-out infinite;
        }
        
        @keyframes sparkle {
            0%, 100% {
                opacity: 0;
                transform: scale(0);
            }
            50% {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        .input-field {
            background: rgba(26, 26, 46, 0.6);
            border: 1px solid rgba(120, 119, 198, 0.4);
            backdrop-filter: blur(15px);
            transition: all 0.3s ease;
            color: #e2e8f0;
        }
        
        .input-field:focus {
            background: rgba(26, 26, 46, 0.8);
            border-color: rgba(255, 119, 198, 0.8);
            transform: scale(1.02);
            box-shadow: 0 0 20px rgba(255, 119, 198, 0.3);
        }
        
        .input-field::placeholder {
            color: rgba(226, 232, 240, 0.5);
        }
        
        .login-btn {
            background: linear-gradient(45deg, #7877c6, #ff77c6, #7877c6);
            background-size: 200% 200%;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .login-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .login-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(120, 119, 198, 0.4);
            background-position: right center;
        }
        
        .login-btn:hover::before {
            left: 100%;
        }
        
        .error-message {
            background: rgba(239, 68, 68, 0.15);
            border: 1px solid rgba(239, 68, 68, 0.4);
            backdrop-filter: blur(15px);
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.2);
        }
        
        /* Mysterious text glow */
        .mystery-text {
            text-shadow: 0 0 10px rgba(120, 119, 198, 0.5);
        }
        
        .mystery-text-strong {
            text-shadow: 0 0 15px rgba(255, 119, 198, 0.6);
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen relative overflow-hidden">
    
    <!-- Mysterious Background Elements -->
    <div class="floating-hearts">
        <div class="heart" style="left: 10%; top: 20%; animation-delay: 0s;">üîÆ</div>
        <div class="heart" style="right: 15%; top: 30%; animation-delay: 2s;">‚ú®</div>
        <div class="heart" style="left: 20%; bottom: 25%; animation-delay: 4s;">üåô</div>
        <div class="heart" style="right: 25%; bottom: 35%; animation-delay: 1s;">üí´</div>
        <div class="heart" style="left: 50%; top: 10%; animation-delay: 3s;">üîÆ</div>
        <div class="heart" style="right: 50%; bottom: 15%; animation-delay: 5s;">‚ú®</div>
    </div>
    
    <!-- Mysterious Particles -->
    <div class="mystery-particles">
        <div class="particle" style="left: 15%; top: 40%; animation-delay: 0s;"></div>
        <div class="particle" style="right: 20%; top: 60%; animation-delay: 1s;"></div>
        <div class="particle" style="left: 70%; top: 30%; animation-delay: 2s;"></div>
        <div class="particle" style="right: 60%; bottom: 40%; animation-delay: 3s;"></div>
        <div class="particle" style="left: 40%; bottom: 20%; animation-delay: 4s;"></div>
        <div class="particle" style="right: 30%; top: 70%; animation-delay: 5s;"></div>
    </div>

    <!-- Login Container -->
    <div class="login-container rounded-3xl p-8 md:p-12 w-full max-w-md mx-4 relative z-10">
        
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-white mb-2 font-['Playfair_Display'] mystery-text">
                Halo Zum!
            </h1>
            <p class="text-white/80 text-lg">
                (gak tau apaan ini wkwk)
            </p>
        </div>
        
        <!-- Login Form -->
        <form id="loginForm" class="space-y-6">
            <!-- Username Field -->
            <div>
                <label for="username" class="block text-white/90 text-sm font-medium mb-2">
                    Username
                </label>
                <input 
                    type="text" 
                    id="username" 
                    name="username"
                    class="input-field w-full px-4 py-3 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-300"
                    placeholder="Reveal your hidden name"
                    required
                />
                <p class="text-white/60 text-xs mt-1">
                    (Azumi)
                </p>
            </div>
            
            <!-- Password Field -->
            <div>
                <label for="password" class="block text-white/90 text-sm font-medium mb-2">
                    Password
                </label>

                <input 
                    type="password" 
                    id="password" 
                    name="password"
                    class="input-field w-full px-4 py-3 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-300"
                    placeholder="Enter the secret combination"
                    required
                />
                <p class="text-white/60 text-xs mb-2">
                    (Date of birth) (ddmmyy)
                </p>
            </div>
            
            <!-- Error Message -->
            <div id="errorMessage" class="error-message rounded-xl p-3 text-red-200 text-center hidden">
                ‚ö†Ô∏è The ancient runes do not match. Try again, seeker.
            </div>
            
            <!-- Login Button -->
            <button 
                type="submit" 
                class="login-btn w-full py-3 rounded-xl text-white font-semibold text-lg focus:outline-none focus:ring-2 focus:ring-purple-300"
            >
                üîÆ Unlock the Mystery
            </button>
        </form>
        
        <!-- Footer -->
        <div class="text-center mt-8">
            <p class="text-white/60 text-sm">
                üîí A sealed message awaits the chosen one
            </p>
        </div>
    </div>
    
    <!-- Scripts -->
    <!-- Include secure authentication system -->
    <script src="assets/js/auth.js"></script>
    
    <script>
        // DOM elements
        const loginForm = document.getElementById('loginForm');
        const errorMessage = document.getElementById('errorMessage');
        const usernameInput = document.getElementById('username');
        const passwordInput = document.getElementById('password');
        const loginBtn = document.querySelector('.login-btn');
        
        // Check if already authenticated
        if (auth.isAuthenticated()) {
            window.location.href = 'index.html';
        }
        
        // Handle form submission with secure authentication
        loginForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const username = usernameInput.value.trim();
            const password = passwordInput.value.trim();
            
            // Disable form during authentication
            setFormState(false);
            
            try {
                const result = await auth.login(username, password);
                
                if (result.success) {
                    // Show success message
                    showMessage('üîÆ Welcome to the mystical realm!', 'success');
                    
                    // Redirect after short delay
                    setTimeout(() => {
                        window.location.href = 'index.html';
                    }, 1500);
                } else {
                    showError(result.message);
                    
                    // Clear password field for security
                    passwordInput.value = '';
                    passwordInput.focus();
                    
                    // Shake animation
                    loginForm.style.animation = 'shake 0.5s ease-in-out';
                    setTimeout(() => {
                        loginForm.style.animation = '';
                    }, 500);
                }
            } catch (error) {
                showError('An unexpected error occurred. Please try again.');
            } finally {
                // Re-enable form
                setFormState(true);
            }
        });
        
        // Set form state (enabled/disabled)
        function setFormState(enabled) {
            usernameInput.disabled = !enabled;
            passwordInput.disabled = !enabled;
            loginBtn.disabled = !enabled;
            
            if (enabled) {
                loginBtn.textContent = 'üîÆ Unlock the Mystery';
                loginBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            } else {
                loginBtn.textContent = 'üîÆ Authenticating...';
                loginBtn.classList.add('opacity-50', 'cursor-not-allowed');
            }
        }
        
        // Show error message
        function showError(message) {
            errorMessage.textContent = `‚ö†Ô∏è ${message}`;
            errorMessage.classList.remove('hidden', 'bg-green-500/20', 'text-green-200');
            errorMessage.classList.add('bg-red-500/20', 'text-red-200');
            errorMessage.style.animation = 'fadeIn 0.3s ease-in-out';
            
            // Hide error after 8 seconds
            setTimeout(() => {
                errorMessage.classList.add('hidden');
            }, 8000);
        }
        
        // Show success message
        function showMessage(message, type = 'success') {
            errorMessage.textContent = message;
            errorMessage.classList.remove('hidden', 'bg-red-500/20', 'text-red-200');
            errorMessage.classList.add('bg-green-500/20', 'text-green-200');
            errorMessage.style.animation = 'fadeIn 0.3s ease-in-out';
        }
        
        // Enter key to submit
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !loginBtn.disabled) {
                loginForm.dispatchEvent(new Event('submit'));
            }
        });
        
        // Auto-focus username field
        usernameInput.focus();
        
        // Clear form on page load for security
        window.addEventListener('load', function() {
            usernameInput.value = '';
            passwordInput.value = '';
        });
        
        // Add animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes shake {
                0%, 100% { transform: translateX(0); }
                25% { transform: translateX(-5px); }
                75% { transform: translateX(5px); }
            }
            
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(-10px); }
                to { opacity: 1; transform: translateY(0); }
            }
        `;
        document.head.appendChild(style);
        
    </script>
</body>
</html>
